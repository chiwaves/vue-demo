(function(t){function s(s){for(var a,n,c=s[0],o=s[1],l=s[2],u=0,p=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&p.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);d&&d(s);while(p.length)p.shift()();return r.push.apply(r,l||[]),e()}function e(){for(var t,s=0;s<r.length;s++){for(var e=r[s],a=!0,c=1;c<e.length;c++){var o=e[c];0!==i[o]&&(a=!1)}a&&(r.splice(s--,1),t=n(n.s=e[0]))}return t}var a={},i={app:0},r=[];function n(s){if(a[s])return a[s].exports;var e=a[s]={i:s,l:!1,exports:{}};return t[s].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=a,n.d=function(t,s,e){n.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,s){if(1&s&&(t=n(t)),8&s)return t;if(4&s&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var a in t)n.d(e,a,function(s){return t[s]}.bind(null,a));return e},n.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(s,"a",s),s},n.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},n.p="/vue-demo/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=s,c=c.slice();for(var l=0;l<c.length;l++)s(c[l]);var d=o;r.push([0,"chunk-vendors"]),e()})({0:function(t,s,e){t.exports=e("56d7")},"04bd":function(t,s,e){t.exports=e.p+"img/slide-1.6fb18add.jpg"},"0613":function(t,s,e){t.exports=e.p+"img/gallery-3.a72267eb.png"},"09db":function(t,s,e){"use strict";e("a358")},"0a99":function(t,s,e){t.exports=e.p+"img/mix-alpha.1dac9d09.jpg"},"0d40":function(t,s,e){t.exports=e.p+"img/ads-1.c02b74cc.png"},"0d9d":function(t,s,e){"use strict";e("d08a")},1009:function(t,s,e){t.exports=e.p+"img/nav-3-1.63b9a2b4.jpg"},"115f":function(t,s,e){"use strict";e("8e31")},"11a4":function(t,s,e){t.exports=e.p+"img/item-box-1.3bef5f39.png"},"13b0":function(t,s,e){},"141b":function(t,s,e){t.exports=e.p+"img/item-box-4.bf97d9c6.jpg"},"168b":function(t,s,e){"use strict";e("2b09")},"171a":function(t,s,e){t.exports=e.p+"img/gallery-2.dce88028.png"},"1ddd":function(t,s,e){t.exports=e.p+"img/gallery-6.e343c6ff.jpg"},"23b3":function(t,s,e){"use strict";e("4121")},"2b09":function(t,s,e){},"30b3":function(t,s,e){t.exports=e.p+"img/slide-4.9ca6eab5.jpg"},"34c8":function(t,s,e){t.exports=e.p+"img/item-box-3.d12d7920.jpg"},3823:function(t,s,e){},"38a5":function(t,s,e){"use strict";e("c0ca")},"3c7f":function(t,s,e){t.exports=e.p+"img/phone-2.205ffcc5.jpg"},"3dae":function(t,s,e){t.exports=e.p+"img/ads-4.72ed1e29.jpg"},"3e24":function(t,s,e){t.exports=e.p+"img/nav-3-2.01da1614.jpg"},"3ef3":function(t,s,e){t.exports=e.p+"img/nav-3-5.4086cc05.jpg"},4121:function(t,s,e){},4700:function(t,s,e){t.exports=e.p+"img/title-1.5ad55108.png"},"470c":function(t,s,e){"use strict";e("9aa9")},"55de":function(t,s,e){t.exports=e.p+"img/slide-2.4d9ec6e8.jpg"},5613:function(t,s,e){"use strict";e("785d")},56926:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAsCAYAAAAXb/p7AAAGjklEQVRYR8WZf4xdVRHHv3Pf9iXSolwIof0DbCIBW7CQtgSSQsCosdZWNJQtlZJ2S9+Zs7uwDTWKCUY2BqMxsRSxu3fu6/5AS6rLj5hCA4RfCT9CAwGhRMrvn38sBOIKUqzre3fMNPeV7XZ333nP3XqS/WPvm5nzuXPOmTMzl9DkEJGvqOo3iGiRqi4gopMBfDE394mqfkhE+1V1X5ZlD3V0dLzZzFTUiNL27dvntrS0bADQBuAMABmAl+1PVd+LouifZi/LsuMBnEZEZwL4KoAIwCsABiuVymBnZ+f7ofMGAfb39588Ojp6AxExACKiu1V1CMCjzPzxVJOJyJcAfB3AGgA/AKCqKsVi8ZcbN278sB5oXcA0Ta9U1d8BaAFwc7VavaWjo2OknuGJfu/p6YkLhcJmAD8C8G8i2uycu30qW5MCDg0NFUdGRlIA64noTiK6plQqfdAM2Hgd2yqzZs26VVVXAxiI49i3traOTmR7QkBbFiLao6rnqar33g9MB9h4G0mStBGRENHTBw8eXNHV1fXJeJmjAEXkuBxucZZlK9rb25+cCbiaTRG5EMAeAM8CWMnMn42d7whAVaU0Te8E8J0sy74103A1kHK5fFGWZQ+YY0qlUisRae23IwDTNN2sqtuIaLVz7q6Z9Nx42yJyOYAhVe3y3t96FKAFXgAvAigzs520Yz5EpMcOZZZlZ7W3t79tAIc9KCK2tOdXKpUFnZ2dnx5zOgB9fX3HVyqV/QCeYOYrDgOWy+VFWZa9QERtzrnBRuFs74rIIgC2CjbeYOZ9Y/dSqE0R2WSrSERnO+f+dsiDSZKkRLRieHh4fnd3dyXUWH6orgbwMwBfHqf3DoCbnHN9jYCKyCwA76rq3d77Tntze/CRHQ7v/Y2hcHkg3wnANvdU4444jtdNFognUhSRmwB0ADiFkiSxjOShKIrOKZVK+0IBRcRO2jWB8r9n5msDZSEiiy0uEtElFvd+rqrXMrOlS0GjZiBI+HOhJcz8XIhOvnVsVW+2Jb5LVWd775eHKJtMmqa9dgWGyh86jUSJc649VEdEHgTwsQE+o6pP24ZsQPklAAtC5XO5/cy8MFQnd8JSA7SAOMjM3aHKIvJ3AHGofC43wswnhuqIiPGsbxbwXQCnhk6Wy73HzKeF6uSAGwzwNQB/ZmaLZUFDRO4F8N0g4c+F9jDzylCdPNSstTDzWBRFbznn1ocqJ0myjoj+GCpvcqp6lffe4mbQEJFBIjrdAAeiKFronDs/SBNAd3d3y7x58yxkfC1Q58Xh4eHFjdxSIrJXVffbEtvR33bgwIETtmzZ8q/ACS3UnKGqTwCoFz+t/LzQOfdqqO2tW7d+Yfbs2f8gouuop6fnzEKh8DIRrXLO2d4KHr29vfMLhcJOVV02kRIRPVmtVtfVUqdQw0mSrCKi3Va2HkoWROQlInreOffDUCNj5UTEyspVAE7Pn78O4B5mfrRJe1bSLmTms2uA1wH4NYD5zDzcjNHp0hERC0X2gj9h5m2HAAcGBk4YHR21gH3b/yubrr2giPQBuLRSqcy3xHlsRv1Ty9+iKFrcSFYzXZ4zO729vcuiKHocgCUv2+3ZYcA8v3sewGixWLygra3t4HROXs9Wvop/BfBBHMfLWltbq0cA2j9pmp6rqnsB/ImZrUl0TEYeV+8DsLRarS4Z2wmbqHC3G8Wi+I3OuV8cC8I8c9mkqsu99w+PnXOy1odlEpb+b2Dm22YSUkS6ANwCwDOzjJ9rQsC8SusnoivzIn73TEDmnbM/GCAzb5kw2E82cX5orFZerqrf897fP52QSZJcmvcZdzHzVZNVflP2B8dAfjOKopWlUumR6YBM0/TbqnoPgN1xHK+pndiGPFgTziGt+7RMVdd4781w00NEvm89GAD3x3G8ul45WrfDaiSWXcyZM2eXqq5S1U3N9gvTNN2gqnZT/CWO47X14I6Kg1O5ZWhoqJB3XDcCuJ6Zf9OIG0XE7vutAPrjOHZTLWvdMDPZxHa6y+Xyr1T1egA74jjurOeFvHNhRb414H/rnPtxI62QoCUeD5wkydVEZLXx3mKxeNlk3fodO3acWK1WLRJcZM0B733SiNcbWuLxhvOuqDU5P1PVtd77p8bKJEmylIh2ATgpiqLVzUaApjxYA7GMOv8CsERVHyciu8etfWv1zcUAXgBwGTO/0ajnavL/E6AZsYt+7ty5VxCRNRzty5J96HklyzL7dLGTmf/TLJzp/Rfw6u6b0btaeAAAAABJRU5ErkJggg=="},"56d7":function(t,s,e){"use strict";e.r(s);e("bd49"),e("450d");var a=e("18ff"),i=e.n(a),r=(e("960d"),e("defb")),n=e.n(r),c=(e("cb70"),e("b370")),o=e.n(c),l=(e("0fb7"),e("f529")),d=e.n(l),u=e("2b0e"),p=e("8c4f"),v=function(){var t=this,s=t._self._c;return s("div",[s("nav-header"),s("router-view"),s("nav-footer")],1)},m=[],h=function(){var t=this,s=t._self._c;return s("div",{staticClass:"header"},[s("div",{staticClass:"nav-topbar"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"topbar-user"},[s("div",{staticClass:"user-name"},[t.username?s("span",{staticClass:"name"},[t._v(t._s(t.username)),s("i")]):t._e(),s("div",{staticClass:"user-menu"},[s("ul",[t._m(1),t._m(2),t._m(3),t._m(4),s("li",[s("a",{attrs:{href:"javascript:;"},on:{click:t.logout}},[t._v("退出登录")])])])])]),t.username?t._e():s("a",{staticClass:"link",attrs:{href:"javascript:;"},on:{click:t.login}},[t._v("登录")]),t.username?s("a",{staticClass:"link",attrs:{href:"javascript:;"}},[t._v("消息通知")]):t._e(),t.username?s("a",{staticClass:"link",attrs:{href:"/#/orderList",target:"_blank"}},[t._v("我的订单")]):t._e(),s("a",{staticClass:"my-cart",attrs:{href:"javascript:;",target:"_blank"},on:{click:t.goToCart}},[s("span",{staticClass:"icon-cart"}),t._v("购物车 ("+t._s(t.cartCount)+")")])])])]),s("div",{staticClass:"nav-header"},[s("div",{staticClass:"container"},[t._m(5),s("div",{staticClass:"header-menu"},[s("div",{staticClass:"item-menu"},[s("p",{directives:[{name:"show",rawName:"v-show",value:t.showCategory,expression:"showCategory"}]},[s("span",[t._v("全部商品分类")])])]),s("div",{staticClass:"item-menu"},[s("span",[t._v("小米手机")]),s("div",{staticClass:"children"},[s("ul",t._l(t.xiaomiList,(function(e,a){return s("li",{key:a,staticClass:"product"},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(e.id)}}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:e.subtitle}})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])]),s("div",{staticClass:"item-menu"},[s("span",[t._v("Redmi 红米")]),s("div",{staticClass:"children"},[s("ul",t._l(t.redmiList,(function(e,a){return s("li",{key:a,staticClass:"product"},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(e.id)}}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:e.subtitle}})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])]),s("div",{staticClass:"item-menu"},[s("span",[t._v("电视")]),s("div",{staticClass:"children"},[s("ul",t._l(t.tvList,(function(e,a){return s("li",{key:a,staticClass:"product"},[s("a",{attrs:{href:"javascript:;",target:"_blank"}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:"product"}})]),s("div",{staticClass:"pro-name"},[t._v(t._s(e.name))]),s("div",{staticClass:"pro-price"},[t._v(t._s(t._f("currency")(e.price)))])])])})),0)])])]),t._m(6)])])])},f=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"topbar-menu"},[s("a",{staticClass:"link",attrs:{href:"javascript:;"}},[t._v("小米商城")]),s("a",{staticClass:"link",attrs:{href:"javascript:;"}},[t._v("MIUI")]),s("a",{staticClass:"link",attrs:{href:"javascript:;"}},[t._v("云服务")]),s("a",{staticClass:"link",attrs:{href:"javascript:;"}},[t._v("协议规则")])])},function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("个人中心")])])},function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("评价晒单")])])},function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("我的喜欢")])])},function(){var t=this,s=t._self._c;return s("li",[s("a",{attrs:{href:"javascript:;"}},[t._v("小米账户")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-search"},[s("div",{staticClass:"wrapper"},[s("input",{attrs:{type:"text",placeholder:"小米10"}}),s("a",{attrs:{href:"javascript:;"}})])])}],_=(e("14d9"),{name:"nav-header",data(){return{xiaomiList:[],redmiList:[],tvList:[{name:"小米壁画电视 65英寸",price:6999,mainImage:e("1009")},{name:"小米全面屏电视 E55A",price:1999,mainImage:e("3e24")},{name:"Redmi 智能电视 MAX 98''",price:19999,mainImage:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/0112cb7e2ea8489fbd36ce3a781d5232.jpg?thumb=1&w=160&h=110&f=webp&q=90"},{name:"小米电视4A 55英寸",price:1799,mainImage:e("d6da")},{name:"米电视4A 65英寸",price:2699,mainImage:e("3ef3")},{name:"米电视4A 32英寸",price:699,mainImage:e("5b40")}],showCategory:!1}},computed:{username(){return this.$store.state.username},cartCount(){return this.$store.state.cartCount}},filters:{currency(t){return t?t.toFixed(0)+"元起":"0"}},mounted(){this.getProductList();let t=this.$route.params;t&&"login"===t.from&&this.getCartCount()},methods:{login(){this.$router.push("/login")},logout(){this.axios.post("/user/logout").then(()=>{this.$message.success({message:"退出成功",showClose:!0}),this.$cookie.set("userId","",{expires:"-1"}),this.$store.dispatch("saveUserName",""),this.$store.dispatch("saveCartCount","0")})},getCartCount(){this.axios.get("/carts/products/sum").then((t=0)=>{this.$store.dispatch("saveCartCount",t)})},getProductList(){this.axios.get("/products",{params:{categoryId:"100012",pageSize:20}}).then(t=>{t.list.length>=6&&(this.xiaomiList=t.list.slice(0,6),this.redmiList=t.list.slice(6,12))})},goToCart(){const t=this.$router.resolve({path:"/cart"});window.open(t.href,"_blank")},gotoProduct(t){const s=this.$router.resolve({path:"/product/"+t});window.open(s.href,"_blank")}}}),g=_,C=(e("38a5"),e("2877")),y=Object(C["a"])(g,h,f,!1,null,null,null),b=y.exports,k=function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer"},[s("div",{staticClass:"footer-logo"},[s("img",{attrs:{src:t.image,alt:"logo"}}),s("p",[t._v("小米商城")])]),t._m(0),t._m(1)])},w=[function(){var t=this,s=t._self._c;return s("p",{staticClass:"footer-link"},[s("a",{attrs:{href:"javascript:;"}},[t._v("米粉卡")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("小米政企服务")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("小米集团隐私政策")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("小米商城隐私政策")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("小米公司儿童信息保护规则")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("小米商城用户协议")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("问题反馈")])])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"copyright"},[t._v(" Copyright ©2019 "),s("span",[t._v("mi.futurefe.com")]),t._v(" All Rights Reserved. ")])}],x={name:"nav-footer",data(){return{image:e("80a4")}}},j=x,L=(e("cbfc"),Object(C["a"])(j,k,w,!1,null,null,null)),I=L.exports,A={name:"home",components:{NavHeader:b,NavFooter:I}},O=A,S=Object(C["a"])(O,v,m,!1,null,null,null),P=S.exports,N=function(){var t=this,s=t._self._c;return s("div",{staticClass:"index"},[s("div",{staticClass:"container"},[s("div",{staticClass:"swiper-box"},[s("div",{staticClass:"site-category"},[s("ul",{staticClass:"categoryList"},[s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("手机 电话卡")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("电视 盒子")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("笔记本 显示器 平板")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("家电 插线板")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("出行 穿戴")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("智能 路由器")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("电源 配件")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("健康 儿童")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("耳机 音箱")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)]),s("li",{staticClass:"category-item"},[s("a",{staticClass:"item-name",attrs:{href:"javascript:;"}},[t._v("生活 箱包")]),s("div",{staticClass:"children"},t._l(t.menuList,(function(a,i){return s("ul",{key:i},t._l(a,(function(a,i){return s("li",{key:i},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(a)}}},[s("img",{attrs:{src:a?a.img:e("11a4"),alt:"menu-image"}}),s("span",[t._v(t._s(a?a.name:"小米9"))])])])})),0)})),0)])])]),s("swiper",{attrs:{options:t.swiperOptions}},[t._l(t.slideList,(function(e,a){return s("swiper-slide",{key:a},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.gotoProduct(e)}}},[s("img",{attrs:{src:e.img,alt:"slider"}})])])})),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"}),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),s("div",{staticClass:"ads-box"},t._l(t.adsList,(function(e,a){return s("a",{key:a,attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(e)}}},[s("img",{attrs:{src:e.img,alt:"ads-image"}})])})),0),s("div",{staticClass:"banner"},[s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct({id:30})}}},[s("img",{attrs:{src:e("ce25"),alt:"banner-image"}})])])]),s("div",{staticClass:"product-box"},[s("div",{staticClass:"container"},[s("h2",[t._v("手机")]),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"banner-left"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.gotoProduct({id:30})}}},[s("img",{attrs:{src:e("0a99"),alt:"banner-image"}})])]),s("ul",{staticClass:"list-box"},t._l(t.proList,(function(e,a){return s("li",{key:a,staticClass:"list-item"},[s("span",{class:{newest:38==e.id},on:{click:function(s){t.showModal=!0}}},[t._v("新品")]),s("a",{attrs:{href:"javascript:;",target:"_blank"},on:{click:function(s){return t.gotoProduct(e)}}},[s("div",{staticClass:"item-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.mainImage,expression:"item.mainImage"}],attrs:{alt:"products"}})]),s("h3",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.subtitle))]),s("p",{staticClass:"price"},[t._v(" "+t._s(e.price)+"元起 ")])])])})),0)])])]),s("footer-service"),s("modal",{attrs:{sureText:"查看购物车",btnType:"1",modalType:"middle",showModal:t.showModal},on:{submit:t.gotoCart,cancel:function(s){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("商品添加成功！")])]},proxy:!0}])})],1)},M=[],T=e("7212"),$=(e("a7a3"),function(){var t=this;t._self._c;return t._m(0)}),q=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"footer-service"},[s("div",{staticClass:"container"},[s("ul",[s("li",[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"icon-setting"}),t._v(" 预约维修服务 ")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"icon-7day"}),t._v(" 7天无理由退货 ")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"icon-15day"}),t._v(" 15天免费换货 ")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"icon-post"}),t._v(" 满99包邮 ")])]),s("li",[s("a",{attrs:{href:"javascript:;"}},[s("span",{staticClass:"icon-loc"}),t._v(" 520余家售后网点 ")])])])])])}],z={name:"footer-service"},D=z,V=(e("09db"),Object(C["a"])(D,$,q,!1,null,null,null)),E=V.exports,R=function(){var t=this,s=t._self._c;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"modal"},[s("div",{staticClass:"mask",on:{click:function(s){return t.$emit("cancel")}}}),s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-header"},[s("span",[t._v(t._s(t.title))]),s("a",{staticClass:"icon-close",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}})]),s("div",{staticClass:"modal-body"},[t._t("body")],2),s("div",{staticClass:"modal-footer"},[1==t.btnType?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]):t._e(),2==t.btnType?s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))]):t._e(),3==t.btnType?s("div",{staticClass:"btn-group"},[s("a",{staticClass:"btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("submit")}}},[t._v(t._s(t.sureText))]),s("a",{staticClass:"btn btn-grey",attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}},[t._v(t._s(t.cancelText))])]):t._e()])])])])},Z=[],B={name:"modal",props:{modalType:{type:String,default:"form"},title:String,btnType:String,sureText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},showModal:Boolean}},H=B,Q=(e("6971"),Object(C["a"])(H,R,Z,!1,null,null,null)),F=Q.exports,U={name:"index",components:{Swiper:T["Swiper"],SwiperSlide:T["SwiperSlide"],FooterService:E,Modal:F},data(){return{swiperOptions:{effect:"fade",loop:!0,autoplay:{disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},slideList:[{id:"42",img:e("04bd")},{id:"45",img:e("55de")},{id:"46",img:e("5f20")},{id:"",img:e("30b3")},{id:"",img:e("ae9c")}],menuList:[[{id:30,img:e("11a4"),name:"小米CC9"},{id:31,img:e("a587"),name:"小米8青春版"},{id:32,img:e("34c8"),name:"Redmi K20 Pro"},{id:33,img:e("141b"),name:"移动4G专区"}],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],adsList:[{id:33,img:e("0d40")},{id:48,img:e("e483")},{id:45,img:e("cf1f")},{id:47,img:e("3dae")}],proList:[],showModal:!1}},mounted(){this.init()},methods:{init(){this.axios.get("/products",{params:{categoryId:100012,pageSize:20}}).then(t=>{this.proList=t.list.slice(6,14)})},gotoCart(){this.$router.push("/cart")},gotoProduct(t){const s=this.$router.resolve({path:"/product/"+(t||{}).id});window.open(s.href,"_blank")}}},G=U,X=(e("f8cf"),Object(C["a"])(G,N,M,!1,null,null,null)),K=X.exports,W=function(){var t=this,s=t._self._c;return s("div",{staticClass:"product"},[s("product-param",{attrs:{title:t.product.name},scopedSlots:t._u([{key:"buy",fn:function(){return[s("button",{staticClass:"btn btn-pro",on:{click:t.buy}},[t._v("立即购买")])]},proxy:!0}])}),s("div",{staticClass:"content"},[s("div",{staticClass:"first"},[s("div",{staticClass:"intro"},[s("img",{attrs:{src:e("4700"),alt:"bg-img"}}),s("h4",[t._v(t._s(t.product.subtitle))]),s("div",{staticClass:"price"},[s("span",{staticClass:"num"},[t._v(t._s(t.product.price))]),s("span",{staticClass:"qi"},[t._v("元起")])])])]),s("div",{staticClass:"item-bg-2"}),s("div",{staticClass:"item-bg-3"}),s("div",{staticClass:"item-swiper"},[s("swiper",{attrs:{options:t.swiperOptions}},[s("swiper-slide",[s("img",{attrs:{src:e("171a"),alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:e("0613"),alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:e("c052"),alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:e("6517"),alt:""}})]),s("swiper-slide",[s("img",{attrs:{src:e("1ddd"),alt:""}})]),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1),s("h3",[t._v(t._s(t.product.name)+" AI变焦三摄拍摄")])],1),s("div",{staticClass:"item-video"},[t._m(0),t._m(1),s("div",{staticClass:"video-bg",on:{click:function(s){t.showSlide="slideDown"}}}),t.showSlide?s("div",{staticClass:"video-box"},[s("div",{staticClass:"overlay",on:{click:t.closeVideo}}),s("div",{staticClass:"video",class:t.showSlide},[s("span",{staticClass:"icon-close",on:{click:t.closeVideo}},[t._v("×")])])]):t._e()]),s("div",{staticClass:"qr-code"},[s("div",{staticClass:"container"},[s("div",{staticClass:"qrcode-item"},[s("img",{attrs:{src:e("d834"),alt:"qr-code"}}),t._m(2)]),s("div",{staticClass:"qrcode-item"},[s("img",{attrs:{src:e("ebd7"),alt:"qr-code"}}),t._m(3)])])])]),s("footer-service")],1)},J=[function(){var t=this,s=t._self._c;return s("h3",[t._v("60帧超慢动作摄影"),s("br"),t._v("慢慢回味每一瞬间的精彩")])},function(){var t=this,s=t._self._c;return s("p",[t._v("后置960帧电影般超慢动作视频，将眨眼间的美妙展现得淋漓尽致！"),s("br"),t._v("更能AI 精准分析视频内容，15个场景智能匹配背景音效。")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text"},[s("p",{staticClass:"title"},[t._v("扫码关注【"),s("span",[t._v("小米商城")]),t._v("】公众号")]),s("p",{staticClass:"subtitle"},[t._v("回复“热爱”，抽送Redmi 10X！")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"text"},[s("p",{staticClass:"title"},[t._v("扫码关注【"),s("span",[t._v("小米米粉之家")]),t._v("】公众号")]),s("p",{staticClass:"subtitle"},[t._v("回复“真心想要”，抽送一部Redmi 10X！")])])}],Y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"param-bar",class:{is_fixed:t.isFixed}},[s("div",{staticClass:"container"},[s("h2",[t._v(t._s(t.title))]),s("div",{staticClass:"selection"},[s("a",{attrs:{href:"javascript:;"}},[t._v("概述")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("参数")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("F码通道")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("咨询客服")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("用户评价")]),t._t("buy")],2)])])},tt=[],st={name:"param-bar",props:{title:String},data(){return{isFixed:!1}},mounted(){window.addEventListener("scroll",this.initHeight)},destroyed(){window.removeEventListener("scroll",this.initHeight,!1)},methods:{initHeight(){let t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;this.isFixed=t>=152}}},et=st,at=(e("94cb"),Object(C["a"])(et,Y,tt,!1,null,null,null)),it=at.exports,rt={name:"product",components:{ProductParam:it,Swiper:T["Swiper"],SwiperSlide:T["SwiperSlide"],FooterService:E},data(){return{showSlide:"",product:"",swiperOptions:{loop:!0,slidesPerView:3,spaceBetween:30,freeMode:!0,autoplay:{disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}}}},mounted(){this.getProductInfo()},methods:{getProductInfo(){let t=this.$route.params.id;this.axios.get("/products/"+t).then(t=>{this.product=t})},closeVideo(){this.showSlide="slideUp",setTimeout(()=>{this.showSlide=""},500)},buy(){let t=this.$route.params.id;this.$router.push("/detail/"+t)}}},nt=rt,ct=(e("23b3"),Object(C["a"])(nt,W,J,!1,null,null,null)),ot=ct.exports,lt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"detail"},[s("product-params",{attrs:{title:t.product.name}}),s("div",{staticClass:"wrapper container"},[s("div",{staticClass:"swiper-box"},[[s("swiper",{attrs:{options:t.swiperOptions}},[s("swiper-slide",[s("img",{attrs:{src:e("6e79"),alt:"slide-img"}})]),s("swiper-slide",[s("img",{attrs:{src:e("3c7f"),alt:"slide-img"}})]),s("swiper-slide",[s("img",{attrs:{src:e("d4d9"),alt:"slide-img"}})]),s("swiper-slide",[s("img",{attrs:{src:e("ea33"),alt:"slide-img"}})]),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"}),s("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)]],2),s("div",{staticClass:"content"},[s("h2",[t._v(t._s(t.product.name))]),t._m(0),s("p",{staticClass:"shop-name",attrs:{title:"企业名称：小米通讯技术有限公司\n企业执照注册号：91110108558521630L\n企业地址：北京市海淀区西二旗中路33号院6 号楼9层019号\n企业电话：400-100-5678\n营业期限：2010年08月25日 至 2040年08月24日\n经营范围：开发手机技术、计算机软件及信息技术；etc"}},[t._v("小米自营")]),s("p",{staticClass:"price"},[t._v(t._s(t.product.price)+" 元"),s("span",{staticClass:"discount"},[t._v(t._s(t.product.price+1e3)+" 元")])]),s("div",{staticClass:"line"}),s("div",{staticClass:"loca"},[s("span",{staticClass:"loca-icon"},[s("img",{attrs:{src:e("56926"),alt:"icon"}})]),s("div",{staticClass:"loca-box"},[s("span",[t._v("上海")]),s("span",[t._v("上海市")]),s("span",[t._v("徐汇区")]),s("span",[t._v("凌云路街道")]),s("span",{staticClass:"modify",on:{click:function(s){t.showModal=!0}}},[t._v("修改")])]),s("p",{staticClass:"status"},[t._v("有现货")])]),s("h3",[t._v("选择版本")]),s("ul",{staticClass:"selection"},[s("li",{class:{active:0===t.version},on:{click:function(s){t.version=0}}},[t._v(t._s(t.verChoice[0]))]),s("li",{class:{active:1===t.version},on:{click:function(s){t.version=1}}},[t._v(t._s(t.verChoice[1]))])]),s("h3",[t._v("选择颜色")]),s("ul",{staticClass:"selection"},[s("li",{class:{active:0===t.color},on:{click:function(s){t.color=0}}},[t._v(t._s(t.colChoice[0]))]),s("li",{class:{active:1===t.color},on:{click:function(s){t.color=1}}},[t._v(t._s(t.colChoice[1]))]),s("li",{class:{active:2===t.color},on:{click:function(s){t.color=2}}},[t._v(t._s(t.colChoice[2]))])]),s("div",{staticClass:"summary"},[s("div",{staticClass:"box"},[s("p",{staticClass:"final-choice"},[t._v(t._s(t.product.name)+" "+t._s(t.verChoice[t.version])+" "+t._s(t.colChoice[t.color]))]),s("p",{staticClass:"unit-price"},[t._v(t._s(t.product.price)+"元")])]),s("p",{staticClass:"final-price"},[t._v("总计："+t._s(t.product.price)+"元")])]),s("div",{staticClass:"btn-box btn-group"},[s("button",{staticClass:"buy btn btn-huge",on:{click:t.addCart}},[t._v("加入购物车")]),s("button",{staticClass:"like btn btn-huge btn-grey"},[t._v("喜欢")])]),t._m(1)])]),s("div",{staticClass:"price-info"},[s("div",{staticClass:"container"},[s("h3",[t._v("价格说明")]),s("div",{staticClass:"price-des"},[s("img",{attrs:{src:e("77bc"),alt:"price-info"}})])])]),s("footer-service"),s("modal",{attrs:{sureText:"去购物车结算",cancelText:"返回",btnType:"3",modalType:"middle",showModal:t.showModal},on:{submit:t.gotoCart,cancel:function(s){t.showModal=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("商品添加成功！")])]},proxy:!0}])})],1)},dt=[function(){var t=this,s=t._self._c;return s("p",{staticClass:"subtitle"},[t._v(" 前置3200万自拍 / 索尼4800万超广角三摄 / 多色炫彩轻薄机身 / 6.39英寸三星 AMOLED水滴屏"),s("br"),t._v(" /4030mAh大电量 / 骁龙710处理器 / 屏幕指纹 / NFC功能 / 红外遥控功能 / Game Turbo2.0游戏加速 ")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"after-sale-info"},[s("span",[s("i",[t._v("√")]),s("em",[t._v("小米自营")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("小米发货")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("7天无理由退货")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("运费说明")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("企业信息")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("售后服务政策")])]),s("span",[s("i",[t._v("√")]),s("em",[t._v("7天价格保护")])])])}],ut={name:"detail",components:{ProductParams:it,FooterService:E,Modal:F,Swiper:T["Swiper"],SwiperSlide:T["SwiperSlide"]},data(){return{swiperOptions:{effect:"fade",loop:!0,autoplay:{disableOnInteraction:!1},pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},product:{},version:0,color:0,verChoice:["6GB+64GB","8GB+128GB"],colChoice:["钛银黑","冰海蓝","珍珠白"],showModal:!1,error:""}},mounted(){this.getProductInfo()},methods:{getProductInfo(){let t=this.$route.params.id;this.axios.get("/products/"+t).then(t=>{this.product=t})},addCart(){this.axios.post("/carts",{productId:this.product.id,selected:!0}).then(t=>{this.$store.dispatch("saveCartCount",t.cartTotalQuantity),this.showModal=!0}).catch(t=>{this.error=t})},gotoCart(){this.$router.push("/cart")}}},pt=ut,vt=(e("57d1"),Object(C["a"])(pt,lt,dt,!1,null,null,null)),mt=vt.exports,ht=function(){var t=this,s=t._self._c;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-header"},[s("div",{staticClass:"container"},[s("a",{attrs:{href:"/#/index"}},[s("img",{attrs:{src:e("5baf"),alt:"milogo"}})])])]),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"login-form"},[t._m(0),s("div",{staticClass:"input",on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"默认账号：admin"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),s("div",{staticClass:"input",on:{keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"默认密码：admin"},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})]),s("a",{staticClass:"btn btn-large",attrs:{href:"javascript:;"},on:{click:t.login,keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.login.apply(null,arguments)}}},[t._v("登录")]),s("div",{staticClass:"other-panel"},[s("div",{staticClass:"register"},[s("span",{staticClass:"SMS"},[s("a",{attrs:{href:"javascript:;"},on:{click:t.register}},[t._v("手机短信登录/注册")])]),t._m(1)]),s("div",{staticClass:"more-options"})])])])]),t._m(2)])},ft=[function(){var t=this,s=t._self._c;return s("h3",[s("a",{staticClass:"active",attrs:{href:"javascript:;"}},[t._v("帐号登录")]),s("span"),s("a",{attrs:{href:"javascript:;"}},[t._v("扫码登录")])])},function(){var t=this,s=t._self._c;return s("span",{staticClass:"create-forgot"},[s("a",{attrs:{href:"javascript:;"}},[t._v("立即注册")]),s("span"),s("a",{attrs:{href:"javascript:;"}},[t._v("忘记密码？")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"login-footer"},[s("p",{staticClass:"footer-link"},[s("a",{attrs:{href:"javascript:;"}},[t._v("简体")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("繁体")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("English")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("常见问题")]),s("span",[t._v("|")]),s("a",{attrs:{href:"javascript:;"}},[t._v("隐私政策")])]),s("p",{staticClass:"copyright"},[t._v(" 小米公司版权所有-京ICP备10046444-"),s("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802020134"}},[s("span",[s("img",{attrs:{src:"https://account.xiaomi.com/static/res/9204d06/account-static/respassport/acc-2014/img/ghs.png"}})]),t._v("京公网安备11010802020134号")]),t._v("-京ICP证110507号 ")])])}],_t={data(){return{username:"",password:"",userId:""}},methods:{login(){let{username:t,password:s}=this;this.axios.post("/user/login",{username:t,password:s}).then(t=>{this.$cookie.set("userId",t.id,{expires:"Session"}),this.$store.dispatch("saveUserName",t.username),this.$router.push({name:"index",params:{from:"login"}})})},register(){let{username:t,password:s}=this;this.axios.post("/user/register",{username:t,password:s,email:"admin@163.com"}).then(()=>{this.$message.success("注册成功")})}}},gt=_t,Ct=(e("0d9d"),Object(C["a"])(gt,ht,ft,!1,null,null,null)),yt=Ct.exports,bt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart"},[s("order-header",{attrs:{title:"我的购物车"},scopedSlots:t._u([{key:"tips",fn:function(){return[s("span",[t._v("温馨提示：产品是否购买成功，以最终下单为准哦，请尽快结算")])]},proxy:!0}])}),s("div",{staticClass:"wrapper"},[s("div",{staticClass:"container"},[s("div",{staticClass:"cart-box"},[s("ul",{staticClass:"list-head"},[s("li",{staticClass:"allCheck"},[s("span",{staticClass:"check-box",class:{checked:t.isSelectedAll},on:{click:t.toggleAll}}),t._v("全选")]),s("li",{staticClass:"name"},[t._v("商品名称")]),s("li",{staticClass:"unit-price"},[t._v("单价")]),s("li",{staticClass:"quantity"},[t._v("数量")]),s("li",{staticClass:"subtotal"},[t._v("小计")]),s("li",{staticClass:"operating"},[t._v("操作")])]),t._l(t.productList,(function(e,a){return s("ul",{key:a,staticClass:"list-item"},[s("li",{staticClass:"check-item"},[s("span",{staticClass:"check-box",class:{checked:e.productSelected},on:{click:function(s){return t.updateCart(e,"select")}}})]),s("li",{staticClass:"pro-info"},[s("a",{attrs:{href:"/#/product/"+e.productId,target:"_blank"}},[s("span",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:"pro-img"}})]),s("span",{staticClass:"pro-name"},[t._v(t._s(e.productName))])])]),s("li",{staticClass:"unit-price"},[t._v(t._s(e.productPrice)+"元")]),s("li",{staticClass:"item-quant"},[s("div",{staticClass:"counter"},[s("button",{on:{click:function(s){return t.updateCart(e,"-")}}},[t._v("-")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityList[a],expression:"quantityList[index]"}],attrs:{type:"text"},domProps:{value:t.quantityList[a]},on:{change:function(s){return t.updateCart(e,"num",a)},input:function(s){s.target.composing||t.$set(t.quantityList,a,s.target.value)}}}),s("button",{on:{click:function(s){return t.updateCart(e,"+")}}},[t._v("+")])])]),s("li",{staticClass:"subtotal"},[t._v(t._s(e.productTotalPrice)+"元")]),s("li",{staticClass:"operating"},[s("span",{staticClass:"delete",on:{click:function(s){return t.deleteItem(e.productId)}}},[t._v("×")])])])}))],2),s("div",{staticClass:"cart-bar"},[s("div",{staticClass:"selection-left"},[s("a",{attrs:{href:""}},[t._v("继续购物")]),s("span",{staticClass:"line"},[t._v("|")]),s("p",{staticClass:"all"},[t._v("共"),s("span",[t._v(t._s(t.cartTotalQuantity))]),t._v("件商品，已选择"),s("span",[t._v(t._s(t.checkedNum))]),t._v("件")])]),s("div",{staticClass:"pay-right"},[s("p",{staticClass:"total"},[t._v("合计："),s("span",[t._v(t._s(t.cartTotalPrice))]),t._v("元")]),s("button",{staticClass:"btn btn-large",class:{disabled:t.disabled},on:{click:t.order}},[t._v("去结算")])])])])]),s("footer-service"),s("nav-footer")],1)},kt=[],wt=(e("e9f5"),e("d866"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"logo-title"},[t._m(0),s("div",{staticClass:"title"},[s("h2",[t._v(t._s(t.title))]),t._t("tips")],2)]),s("div",{staticClass:"user-info"},[s("a",{staticClass:"user-name",attrs:{href:"javascript:;"}},[s("el-dropdown",[s("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.username)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[s("el-dropdown-item",[t._v("个人中心")]),s("el-dropdown-item",[t._v("评价晒单")]),s("el-dropdown-item",{nativeOn:{click:function(s){return t.gotoCart.apply(null,arguments)}}},[t._v("我的车车")]),s("el-dropdown-item",[t._v("小米账户")]),s("el-dropdown-item",{nativeOn:{click:function(s){return t.logout.apply(null,arguments)}}},[t._v("退出登录")])],1)],1)],1),s("span",[t._v("|")]),s("a",{staticClass:"order-list",attrs:{href:"javascript:;"},on:{click:t.gotoOrderList}},[t._v("我的订单")])])])])}),xt=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"header-logo"},[s("a",{attrs:{href:"/#/index"}},[s("i",{staticClass:"img-1"}),s("i",{staticClass:"img-2"})])])}],jt={name:"order-header",props:{title:String},computed:{username(){return this.$store.state.username}},methods:{logout(){this.axios.post("/user/logout").then(()=>{this.$message.success({message:"退出成功",showClose:!0}),this.$cookie.set("userId","",{expires:"-1"}),this.$store.dispatch("saveUserName",""),this.$store.dispatch("saveCartCount","0"),this.$router.push("/#/index")})},gotoCart(){this.$router.push("/cart")},gotoOrderList(){this.$router.push("/orderList")}}},Lt=jt,It=(e("5613"),Object(C["a"])(Lt,wt,xt,!1,null,null,null)),At=It.exports,Ot={name:"cart",components:{OrderHeader:At,FooterService:E,NavFooter:I},data(){return{productList:[],isSelectedAll:!1,cartTotalPrice:0,cartTotalQuantity:0,quantityList:[]}},computed:{disabled(){let t=this.productList.every(t=>!t.productSelected);return t},checkedNum(){let t=0;for(let s of this.productList)!0===s.productSelected&&(t+=s.quantity);return t}},mounted(){this.getCartList()},methods:{renderData(t){this.productList=t.cartProductVoList||[],this.isSelectedAll=t.selectedAll,this.cartTotalPrice=t.cartTotalPrice,this.cartTotalQuantity=t.cartTotalQuantity;for(let s in this.productList)this.quantityList[s]=this.productList[s].quantity},getCartList(){this.axios.get("/carts").then(t=>{this.renderData(t)})},toggleAll(){let t=this.isSelectedAll?"/carts/unSelectAll":"/carts/selectAll";this.axios.put(t).then(t=>{this.renderData(t)})},deleteItem(t){this.axios.delete("/carts/"+t,{productId:t}).then(t=>{this.renderData(t)}),this.$message({showClose:!0,message:"成功删除商品！",type:"success"})},updateCart(t,s,e){let a=t.quantity,i=t.productSelected;if("+"===s){if(a>=t.productStock)return void this.$message.warning({message:"修改数量不能超过库存",showClose:!0});a++}else if("-"===s){if(a<=1)return void this.$message.warning({message:"修改数量不能小于0",showClose:!0});a--}else if("select"===s)i=!i;else if("num"===s){if(a=this.quantityList[e],a>t.productStock)return void this.$message.warning({message:"修改数量不能超过库存",showClose:!0});if(a<1)return void this.$message.warning({message:"修改数量不能小于0",showClose:!0})}this.axios.put("/carts/"+t.productId,{quantity:a,selected:i}).then(t=>{this.renderData(t)})},order(){!0===this.disabled?this.$message.warning({message:"请勾选需要结算的商品",showClose:!0}):this.$router.push("/order/confirm")}}},St=Ot,Pt=(e("168b"),Object(C["a"])(St,bt,kt,!1,null,null,null)),Nt=Pt.exports,Mt=function(){var t=this,s=t._self._c;return s("div",[s("order-header",{attrs:{title:t.title},scopedSlots:t._u([{key:"tips",fn:function(){return[s("span",[t._v(t._s(t.tip))])]},proxy:!0}])}),s("router-view"),s("footer-service"),s("nav-footer")],1)},Tt=[],$t={name:"order",data(){return{title:"",tip:""}},components:{OrderHeader:At,FooterService:E,NavFooter:I},mounted(){let t=this.$route.path;"/order/confirm"===t?(this.title="确认订单",this.tip=""):"/order/pay"===t||"/order/alipay"===t?(this.title="支付订单",this.tip="请谨防钓鱼链接或诈骗电话"):"/order/list"===t&&(this.title="订单列表",this.tip="请谨防钓鱼链接或诈骗电话")}},qt=$t,zt=Object(C["a"])(qt,Mt,Tt,!1,null,null,null),Dt=zt.exports,Vt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-list"},[s("div",{staticClass:"wrap"},[s("div",{staticClass:"container"},[t._m(0),s("div",{staticClass:"list-wrapper"},[s("div",{staticClass:"user-address-menu"},t._l(t.menuList,(function(e,a){return s("dl",{key:a,staticClass:"menu-box"},[s("dt",{staticClass:"menu-subtitle"},[t._v(t._s(e.title))]),t._l(e.sublist,(function(e,a){return s("dd",{key:a,staticClass:"menu-item"},[s("a",{attrs:{href:"javascript:;"}},[t._v(t._s(e))])])}))],2)})),0),s("div",{staticClass:"my-list"},[t._m(1),s("div",{staticClass:"list-filter"},[s("ul",{staticClass:"list-type"},[s("li",{staticClass:"type-section",on:{click:function(s){t.whichList=0,t.getOrderList()}}},[s("a",{class:{active:0===t.whichList},attrs:{href:"javascript:;"}},[t._v("全部有效订单")])]),s("li",{staticClass:"type-section",on:{click:function(s){t.whichList=1,t.getOrderList()}}},[s("a",{class:{active:1===t.whichList},attrs:{href:"javascript:;"}},[t._v("待支付")])]),s("li",{staticClass:"type-section",on:{click:function(s){t.whichList=2,t.getOrderList()}}},[s("a",{class:{active:2===t.whichList},attrs:{href:"javascript:;"}},[t._v("待收货")])]),s("li",{staticClass:"type-section",on:{click:function(s){t.whichList=3,t.getOrderList()}}},[s("a",{class:{active:3===t.whichList},attrs:{href:"javascript:;"}},[t._v("订单回收站")])])]),t._m(2)]),t.loading?s("loading"):t._e(),s("ul",{staticClass:"order-list"},[t._l(t.showList,(function(e,a){return s("li",{key:a,staticClass:"order-item"},[s("div",{staticClass:"order-summary"},[s("p",{staticClass:"order-status"},[t._v(t._s(t.orderStatus(e.status)))]),s("div",{staticClass:"detail-list"},[s("p",{staticClass:"detail"},[t._v(" "+t._s(e.createTime)+" "),s("span",[t._v("|")]),t._v(" "+t._s(e.receiverName)+" "),s("span",[t._v("|")]),t._v(" 订单号："),s("a",{attrs:{href:"/#/order/pay/?orderNo="+e.orderNo,target:"_blank"}},[t._v(t._s(e.orderNo))]),s("span",[t._v("|")]),t._v(" "+t._s(e.paymentTypeDesc)+" ")]),s("p",{staticClass:"price"},[t._v("应付金额： "),s("span",[t._v(t._s(e.payment))]),t._v("元")])])]),s("div",{staticClass:"order-more"},[s("ul",{staticClass:"itemVoList"},t._l(e.orderItemVoList,(function(e,a){return s("li",{key:a,staticClass:"order-product"},[s("a",{staticClass:"pro-img",attrs:{href:"/#/detail/"+e.productId,target:"_blank"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productImage,expression:"subitem.productImage"}],attrs:{alt:"pro-img"}})]),s("div",{staticClass:"pro-info"},[s("p",{staticClass:"pro-name"},[s("a",{attrs:{href:"/#/detail/"+e.productId,target:"_blank"}},[t._v(t._s(e.productName))])]),s("p",{staticClass:"pro-price"},[t._v(t._s(e.currentUnitPrice+"元 × "+e.quantity))])])])})),0),s("div",{staticClass:"order-action"},[s("ul",{staticClass:"btn-box"},[10===e.status?s("li",{staticClass:"btn btn-small",on:{click:function(s){return t.openPay(e.orderNo)}}},[t._v("立即付款")]):t._e(),s("li",{staticClass:"btn btn-small btn-grey"},[t._v("订单详情")]),s("li",{staticClass:"btn btn-small btn-grey"},[t._v("联系客服")])])])])])})),s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.showList.length,expression:"showList.length"}],staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleChange}}),t.loading||0!==t.showList.length?t._e():s("div",{staticClass:"no-data"},[s("p",[t._v("当前没有交易订单。")])])],2)],1)])])]),s("footer-service")],1)},Et=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"breadcrumbs"},[s("a",{attrs:{href:"/#/index"}},[t._v("首页")]),s("span",{staticClass:"gang"},[t._v(" / ")]),s("span",[t._v("交易订单")])])},function(){var t=this,s=t._self._c;return s("h1",[t._v("我的订单"),s("span",[t._v("请谨防钓鱼链接或诈骗电话，了解更多>")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"list-search"},[s("input",{staticClass:"search-text",attrs:{type:"text",placeholder:"输入商品名称、订单号"}}),s("input",{staticClass:"search-btn",attrs:{type:"button"}})])}],Rt=(e("672e"),e("101e")),Zt=e.n(Rt),Bt=(e("910d"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"loading"},[s("img",{attrs:{src:t.loadingImage,alt:"loading"}})])}),Ht=[],Qt={name:"loading",data(){return{loadingImage:e("80a4")}}},Ft=Qt,Ut=(e("470c"),Object(C["a"])(Ft,Bt,Ht,!1,null,null,null)),Gt=Ut.exports,Xt={name:"order-list",components:{FooterService:E,Loading:Gt,[Zt.a.name]:Zt.a},data(){return{orderList:[],cancelList:[],unpaidList:[],unreceivedList:[],showList:[],whichList:0,menuList:[{title:"订单中心",sublist:["我的订单","评价晒单","话费充值订单","以旧换新订单"]},{title:"个人中心",sublist:["我的个人中心","消息通知","购买资格","现金账户","小米礼品卡","现金券","喜欢的商品","优惠券","收货地址","红包"]},{title:"售后服务",sublist:["服务记录","申请服务","领取快递报销"]},{title:"账户管理",sublist:["个人信息","修改密码"]}],loading:!0,pageNum:1,total:0}},mounted(){this.getOrderList()},methods:{getOrderList(){this.axios.get("/orders",{params:{pageNum:this.pageNum}}).then(t=>{this.loading=!1,this.orderList=t.list,this.total=t.total,this.chooseList(this.whichList)}).catch(()=>{this.loading=!1})},chooseList(t){switch(this.cancelList=this.orderList.filter(t=>0===t.status),this.unpaidList=this.orderList.filter(t=>10===t.status),this.unreceivedList=this.orderList.filter(t=>20===t.status),t){case 0:this.showList=this.orderList;break;case 1:this.showList=this.unpaidList;break;case 2:this.showList=this.unreceivedList;break;case 3:this.showList=this.cancelList;break}},orderStatus(t){switch(t){case 0:return"已取消";case 10:return"等待付款";case 20:return"已付款";case 40:return"已发货";case 50:return"交易成功";case 60:return"交易关闭"}},openPay(t){window.open("/#/order/pay?orderNo="+t)},handleChange(t){this.pageNum=t,this.getOrderList()}}},Kt=Xt,Wt=(e("58c0"),Object(C["a"])(Kt,Vt,Et,!1,null,null,null)),Jt=Wt.exports,Yt=(e("ab43"),function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-confirm"},[s("svg",{staticStyle:{position:"absolute",width:"0px",height:"0px",overflow:"hidden"},attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[s("defs",[s("symbol",{attrs:{id:"icon-add",viewBox:"0 0 31 32"}},[s("title",[t._v("add")]),s("path",{staticClass:"path1",attrs:{d:"M30.745 15.152h-14.382v-14.596c0-0.308-0.243-0.557-0.543-0.557s-0.543 0.249-0.543 0.557v14.596h-14.665c-0.3 0-0.543 0.249-0.543 0.557s0.243 0.557 0.543 0.557h14.665v15.177c0 0.307 0.243 0.557 0.543 0.557s0.543-0.249 0.543-0.557v-15.177h14.382c0.3 0 0.543-0.249 0.543-0.557s-0.243-0.557-0.543-0.557z"}})]),s("symbol",{attrs:{id:"icon-edit",viewBox:"0 0 32 32"}},[s("title",[t._v("edit")]),s("path",{staticClass:"path1",attrs:{d:"M28.287 8.51l-4.805-4.806 0.831-0.831c0.472-0.472 1.086-0.777 1.564-0.777 0.248 0 0.452 0.082 0.622 0.253l3.143 3.144c0.539 0.54 0.133 1.529-0.524 2.186l-0.831 0.831zM26.805 9.992l-1.138 1.138-4.805-4.806 1.138-1.138 4.805 4.806zM24.186 12.612l-14.758 14.762-4.805-4.806 14.758-14.762 4.805 4.806zM7.379 28.288l-4.892 1.224 1.223-4.894 3.669 3.67zM31.123 4.011l-3.143-3.144c-0.567-0.567-1.294-0.867-2.103-0.867-1.036 0-2.174 0.52-3.045 1.391l-20.429 20.436c-0.135 0.134-0.23 0.302-0.276 0.487l-2.095 8.385c-0.089 0.355 0.017 0.736 0.276 0.995 0.198 0.198 0.461 0.307 0.741 0.307 0.085 0 0.171-0.010 0.254-0.031l8.381-2.096c0.185-0.047 0.354-0.142 0.487-0.276l20.43-20.436c1.409-1.41 2.042-3.632 0.524-5.15v0z"}})]),s("symbol",{attrs:{id:"icon-del",viewBox:"0 0 32 32"}},[s("title",[t._v("delete")]),s("path",{staticClass:"path1",attrs:{d:"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z"}}),s("path",{staticClass:"path2",attrs:{d:"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),s("path",{staticClass:"path3",attrs:{d:"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}}),s("path",{staticClass:"path4",attrs:{d:"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z"}})])])]),s("div",{staticClass:"confirm-wraper container"},[s("div",{staticClass:"address"},[s("h2",[t._v("收货地址")]),s("ul",{staticClass:"address-list"},[t._l(t.AddressList,(function(e,a){return s("li",{key:a,staticClass:"address-item",class:{active:t.checkedItem.id===e.id},on:{click:function(s){t.checkedItem={...e}}}},[s("div",{staticClass:"address-info"},[s("p",{staticClass:"name"},[t._v(t._s(e.receiverName))]),s("div",{staticClass:"address-con"},[s("p",{staticClass:"phone"},[t._v(t._s(e.receiverMobile))]),s("p",[s("span",[t._v(t._s(e.receiverProvince))]),s("span",[t._v(t._s(e.receiverCity))]),s("span",[t._v(t._s(e.receiverDistrict))])]),t._m(0,!0),s("p",[s("span",[t._v(t._s(e.receiverAddress))])])]),s("div",{staticClass:"edit-action"},[s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showEditModal=!0,t.type=2,t.checkedItem={...e}}}},[s("svg",{staticClass:"icon icon-edit"},[s("use",{attrs:{"xlink:href":"#icon-edit"}})])]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showDelModal=!0,t.type=0,t.checkedItem={...e}}}},[s("svg",{staticClass:"icon icon-del"},[s("use",{attrs:{"xlink:href":"#icon-del"}})])])])])])})),s("li",{staticClass:"address-item address-add",on:{click:function(s){t.showEditModal=!0,t.type=1,t.checkedItem={}}}},[t._m(1)])],2)]),s("div",{staticClass:"product"},[s("h2",[t._v("商品及优惠券")]),s("ul",t._l(t.goodList,(function(e,a){return s("li",{key:a,staticClass:"product-item"},[s("div",{staticClass:"img-title"},[s("a",{attrs:{href:"/#/product/"+e.productId}},[s("div",{staticClass:"pro-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.productMainImage,expression:"item.productMainImage"}],attrs:{alt:"product"}})]),s("h3",[t._v(t._s(e.productName))])])]),s("p",{staticClass:"good-price"},[t._v(t._s(e.productPrice)+"元 x "),s("span",{staticClass:"good-quantity"},[t._v(t._s(e.quantity))])]),s("p",{staticClass:"good-status"}),s("p",{staticClass:"good-total"},[t._v(t._s(e.productTotalPrice)+"元")])])})),0)]),t._m(2),s("div",{staticClass:"count"},[s("div",{staticClass:"coupon"}),s("div",{staticClass:"count-detail"},[t._m(3),s("ul",{staticClass:"value"},[s("li",[s("span",[t._v(t._s(t.totalQuantity)+"件")])]),s("li",[s("span",[t._v(t._s(t.totalPrice)+"元")])]),t._m(4),t._m(5),t._m(6),s("li",[s("span",[s("strong",[t._v(t._s(t.totalPrice))]),t._v("元")])])])])]),s("div",{staticClass:"count-footer"},[s("div",{staticClass:"address-confirm"},[s("p",{staticClass:"confirm-line"},[s("span",[t._v(t._s(t.checkedItem.receiverName))]),s("span",[t._v(t._s(t.checkedItem.receiverMobile))])]),s("p",{staticClass:"confirm-line"},[s("span",[t._v(t._s(t.checkedItem.receiverProvince))]),s("span",[t._v(t._s(t.checkedItem.receiverCity))]),s("span",[t._v(t._s(t.checkedItem.receiverDistrict))]),s("span",[t._v(t._s(t.checkedItem.receiverAddress))]),t.checkedItem.id?s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showEditModal=!0,t.type=2}}},[t._v("修改")]):t._e()])]),s("div",{staticClass:"button"},[s("button",{staticClass:"btn go-back",on:{click:t.gotoCart}},[t._v("返回购物车")]),s("button",{staticClass:"btn",on:{click:t.orderSubmit}},[t._v("立即下单")])])])]),s("modal",{attrs:{btnType:"3",modalType:"middle",showModal:t.showDelModal},on:{submit:function(s){return t.modifyAddress(t.checkedItem)},cancel:function(s){return t.closeModal(t.type,!1)}},scopedSlots:t._u([{key:"body",fn:function(){return[s("p",[t._v("确定删除该地址吗？")])]},proxy:!0}])}),s("modal",{attrs:{title:"编辑收货地址",btnType:"3",modalType:"middle",showModal:t.showEditModal},on:{submit:function(s){return t.modifyAddress(t.checkedItem)},cancel:function(s){return t.closeModal(t.type,!1)}},scopedSlots:t._u([{key:"body",fn:function(){return[s("div",{staticClass:"edit-wrap"},[s("div",{staticClass:"item name-phone"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverName,expression:"checkedItem.receiverName"}],attrs:{type:"text",placeholder:"姓名"},domProps:{value:t.checkedItem.receiverName},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverName",s.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverMobile,expression:"checkedItem.receiverMobile"}],attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.checkedItem.receiverMobile},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverMobile",s.target.value)}}})]),s("div",{staticClass:"item"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverProvince,expression:"checkedItem.receiverProvince"}],attrs:{name:"province"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverProvince",s.target.multiple?e:e[0])}}},[s("option",{attrs:{value:"北京"}},[t._v("北京")]),s("option",{attrs:{value:"上海"}},[t._v("上海")])]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverCity,expression:"checkedItem.receiverCity"}],attrs:{name:"city"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverCity",s.target.multiple?e:e[0])}}},[t.checkedItem.receiverProvince?t._e():s("option",[t._v("请选择")]),"北京"===t.checkedItem.receiverProvince?s("option",{attrs:{value:"北京市"}},[t._v("北京市")]):t._e(),"上海"===t.checkedItem.receiverProvince?s("option",{attrs:{value:"上海市"}},[t._v("上海市")]):t._e()]),"北京市"===t.checkedItem.receiverCity?s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverDistrict,expression:"checkedItem.receiverDistrict"}],attrs:{name:"district"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverDistrict",s.target.multiple?e:e[0])}}},t._l(t.districtListB,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0):t._e(),"上海市"===t.checkedItem.receiverCity?s("select",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverDistrict,expression:"checkedItem.receiverDistrict"}],attrs:{name:"district"},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.checkedItem,"receiverDistrict",s.target.multiple?e:e[0])}}},t._l(t.districtListS,(function(e,a){return s("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})),0):t._e()]),s("div",{staticClass:"item"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverAddress,expression:"checkedItem.receiverAddress"}],attrs:{type:"text",placeholder:"详细地址"},domProps:{value:t.checkedItem.receiverAddress},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverAddress",s.target.value)}}})]),s("div",{staticClass:"item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedItem.receiverZip,expression:"checkedItem.receiverZip"}],attrs:{type:"text",placeholder:"地址标签"},domProps:{value:t.checkedItem.receiverZip},on:{input:function(s){s.target.composing||t.$set(t.checkedItem,"receiverZip",s.target.value)}}})])])]},proxy:!0}])})],1)}),ts=[function(){var t=this,s=t._self._c;return s("p",[s("span",[t._v("中关村街道")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"add-content"},[s("p",{staticClass:"add-icon"}),s("p",[t._v("添加新地址")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"shipment-invoice"},[s("p",[s("span",{staticClass:"title"},[t._v("配送方式")]),s("span",{staticClass:"sub"},[t._v("包邮")])]),s("p",[s("span",{staticClass:"title"},[t._v("发票")]),s("span",{staticClass:"sub"},[t._v("电子普通发票")]),s("span",{staticClass:"sub"},[t._v("个人")]),s("span",{staticClass:"sub"},[t._v("商品明细")]),s("a",{attrs:{href:"javascript:;"}},[t._v("修改 >")])])])},function(){var t=this,s=t._self._c;return s("ul",{staticClass:"key"},[s("li",[s("span",[t._v("商品件数：")])]),s("li",[s("span",[t._v("商品总价：")])]),s("li",[s("span",[t._v("活动优惠：")])]),s("li",[s("span",[t._v("优惠券抵扣：")])]),s("li",[s("span",[t._v("运费：")])]),s("li",[s("span",[t._v("应付总额：")])])])},function(){var t=this,s=t._self._c;return s("li",[s("span",[t._v("-0元")])])},function(){var t=this,s=t._self._c;return s("li",[s("span",[t._v("-0元")])])},function(){var t=this,s=t._self._c;return s("li",[s("span",[t._v("0元")])])}],ss={name:"order-confirm",components:{Modal:F},data(){return{AddressList:[],goodList:[],totalPrice:0,totalQuantity:0,showDelModal:!1,showEditModal:!1,checkedItem:{},type:{},districtListB:["东城区","西城区","朝阳区","丰台区","石景山区","海淀区","门头沟区","房山区","通州区","顺义区","昌平区"],districtListS:["黄埔区","徐汇区","长宁区","静安区","普陀区","虹口区","杨浦区","浦东新区","松江区","闵行区","宝山区"]}},mounted(){this.getAddressList(),this.getgoodList()},methods:{getAddressList(){this.axios.get("/shippings").then(t=>{this.AddressList=t.list})},modifyAddress(t){let s,e={},{receiverName:a,receiverMobile:i,receiverProvince:r,receiverCity:n,receiverDistrict:c,receiverAddress:o,receiverZip:l}=this.checkedItem,d="";if(a?i&&/\d{11}/.test(i)?r?n?o?c||(d="请输入收货地址！"):d="请输入区县！":d="请选择城市！":d="请选择省份！":d="请输入正确的手机号！":d="请输入收货人姓名！",d)return void this.$message.error(d);let u={receiverName:a,receiverMobile:i,receiverProvince:r,receiverCity:n,receiverDistrict:c,receiverAddress:o,receiverZip:l};switch(this.type){case 0:s="delete",e="/shippings/"+t.id;break;case 1:s="post",e="shippings";break;case 2:s="put",e="/shippings/"+t.id}this.axios[s](e,u).then(()=>{this.$message.success("操作成功");let t=!0;this.closeModal(this.type,t),this.getAddressList()})},closeModal(t,s){(0===t&&s||!s)&&(this.checkedItem={}),this.showDelModal=!1,this.showEditModal=!1},getgoodList(){this.axios.get("/carts").then(t=>{let s=t.cartProductVoList;this.goodList=s.filter(t=>t.productSelected),this.totalPrice=t.cartTotalPrice,this.goodList.map(t=>{this.totalQuantity+=t.quantity})})},gotoCart(){this.$router.push("/cart")},orderSubmit(){if(this.checkedItem.id){let t=this.checkedItem.id;this.axios.post("/orders",{shippingId:t}).then(t=>{this.$router.push({path:"/order/pay",query:{orderNo:t.orderNo}})})}else this.$message.error("请选择收获地址！")}}},es=ss,as=(e("b9e9"),Object(C["a"])(es,Yt,ts,!1,null,null,null)),is=as.exports,rs=function(){var t=this,s=t._self._c;return s("div",{staticClass:"order-pay"},[s("div",{staticClass:"wrapper container"},[s("div",{staticClass:"info-wrapper"},[s("div",{staticClass:"info-header"},[t._m(0),s("div",{staticClass:"pay-tips"},[s("h2",[t._v("订单提交成功！去付款咯～")]),t._m(1),t.showDetail?t._e():s("p",[t._v("收货信息："+t._s(t.addressInfo))])]),s("div",{staticClass:"payable"},[s("p",[t._v("应付总额："),s("span",[t._v(t._s(t.orderInfo.payment))]),s("span",[t._v("元")])]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){t.showDetail=!t.showDetail}}},[t._v("订单详情"),s("i",{class:{up:t.showDetail}})])])]),t.showDetail?s("div",{staticClass:"order-detail"},[s("ul",[s("li",[s("span",{staticClass:"key"},[t._v("订单号：")]),s("span",{staticClass:"value order-num"},[t._v(t._s(t.orderInfo.orderNo))])]),s("li",[s("span",{staticClass:"key"},[t._v("收货信息：")]),s("span",{staticClass:"value"},[t._v(t._s(t.addressInfo))])]),s("li",[s("span",{staticClass:"key"},[t._v("商品名称：")]),t._l(t.goodList,(function(e,a){return s("p",{key:a},[s("span",{staticClass:"value"},[t._v(t._s(e.productName))])])}))],2),t._m(2)])]):t._e()]),s("div",{staticClass:"pay-wrapper"},[t._m(3),s("div",{staticClass:"pay-way"},[s("h3",[t._v("支付平台")]),s("ul",{staticClass:"pay-list"},t._l(t.payList,(function(e,a){return s("li",{key:a,staticClass:"pay-item",on:{click:function(s){return t.paySubmit(e.payType)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.link,expression:"item.link"}],attrs:{alt:"pay-logo"}})])})),0)]),s("div",{staticClass:"pay-way"},[s("h3",[t._v("银行借记卡及信用卡")]),s("ul",{staticClass:"pay-list"},[t._l(t.showList,(function(t,e){return s("li",{key:e,staticClass:"pay-item"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t,expression:"item"}],attrs:{alt:"card-logo"}})])})),s("li",{staticClass:"pay-item check-more",on:{click:t.changeList}},[s("span",[t._v(t._s(t.showTitle))])])],2)])])]),s("scan-pay-code",{attrs:{payImg:t.qrcodeImg,showQrcode:t.showQrcode},on:{cancel:t.closeQrcode}})],1)},ns=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"icon"},[s("div",{staticClass:"icon-hook"})])},function(){var t=this,s=t._self._c;return s("p",{staticClass:"countdown"},[t._v("请在"),s("span",[t._v("1 小时 59 分")]),t._v("内完成支付, 超时后将取消订单")])},function(){var t=this,s=t._self._c;return s("li",[s("span",{staticClass:"key"},[t._v("发票信息：")]),s("span",{staticClass:"value"},[t._v("电子发票 个人")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"pay-title"},[s("p",[t._v("选择以下支付方式付款")])])}],cs=e("d055"),os=e.n(cs),ls=function(){var t=this,s=t._self._c;return s("transition",{attrs:{name:"slide"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.showQrcode,expression:"showQrcode"}],staticClass:"scan-pay-code"},[s("div",{staticClass:"mask",on:{click:function(s){return t.$emit("cancel")}}}),s("div",{staticClass:"wx-dialog"},[s("h3",[s("span",[t._v("微信支付")]),s("a",{attrs:{href:"javascript:;"},on:{click:function(s){return t.$emit("cancel")}}},[t._v("×")])]),s("div",{staticClass:"content"},[s("div",{staticClass:"pic"},[s("img",{attrs:{src:t.payImg,alt:"qrcode"}}),s("div",{staticClass:"tips-detail"})]),s("div",{staticClass:"tips"},[s("p",[t._v("请使用 "),s("span",[t._v("微信")]),t._v(" 扫一扫")]),s("p",[t._v("二维码完成支付")])])])])])])},ds=[],us={name:"scan-pay-code",props:["payImg","showQrcode"]},ps=us,vs=(e("115f"),Object(C["a"])(ps,ls,ds,!1,null,null,null)),ms=vs.exports,hs={name:"order-pay",components:{ScanPayCode:ms},data(){return{orderInfo:{},showDetail:!1,addressInfo:"",goodList:[],payList:[{payType:0,link:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/9a4f743d0bdb5c048ad9803914a4ea83.jpg"},{payType:2,link:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/c66f98cff8649bd5ba722c2e8067c6ca.jpg"},{payType:0,link:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/9ead8cd015b07ca9f363ef9b6dd5e8e2.jpg"},{payType:1,link:"//cdn.cnbj1.fds.api.mi-img.com/mi-mall/9fcf10ba01a57b7d08d38b6f4ff3dfa8.jpg"}],cardList:["//s01.mifile.cn/i/banklogo/payOnline_zsyh.png","//s01.mifile.cn/i/banklogo/payOnline_gsyh.png","//s01.mifile.cn/i/banklogo/payOnline_jsyh.png","//s01.mifile.cn/i/banklogo/payOnline_jtyh.png","//s01.mifile.cn/i/banklogo/payOnline_nyyh.png","//s01.mifile.cn/i/banklogo/payOnline_zgyh.png","//s01.mifile.cn/i/banklogo/payOnline_youzheng.png","//s01.mifile.cn/i/banklogo/payOnline_gfyh.png","//s01.mifile.cn/i/banklogo/payOnline_pufa.png","//s01.mifile.cn/i/banklogo/payOnline_gdyh.png","//s01.mifile.cn/i/banklogo/payOnline_xyyh.png","//s01.mifile.cn/i/banklogo/payOnline_msyh.png","//s01.mifile.cn/i/banklogo/payOnline_shyh.png","//s01.mifile.cn/i/banklogo/payOnline_bjnsyh.png","//s01.mifile.cn/i/banklogo/payOnline_nbyh.png","//s01.mifile.cn/i/banklogo/payOnline_hzyh.png","//s01.mifile.cn/i/banklogo/payOnline_shnsyh.png","//s01.mifile.cn/i/banklogo/payOnline_fcyh.png"],showTitle:"查看更多",showNum:11,showQrcode:!1,qrcodeImg:"",Temp:{}}},computed:{showList(){return this.cardList.slice(0,this.showNum)}},mounted(){this.getOrderInfo()},methods:{changeList(){this.showNum<=11?(this.showNum=30,this.showTitle="收起更多"):(this.showNum=11,this.showTitle="查看更多")},getOrderInfo(){let t=this.$route.query.orderNo;this.axios.get("/orders/"+t).then(t=>{this.orderInfo=t,this.addressInfo=`${t.shippingVo.receiverName} ${t.shippingVo.receiverMobile} ${t.shippingVo.receiverProvince} ${t.shippingVo.receiverCity} ${t.shippingVo.receiverDistrict} ${t.shippingVo.receiverAddress}`,this.goodList=t.orderItemVoList})},paySubmit(t){let s=this.orderInfo.orderNo;switch(t){case 1:window.open("/#/order/alipay?orderId="+s,"_blank");break;case 2:this.axios.post("/pay",{orderId:s,orderName:"微信支付",amount:.01,payType:2}).then(t=>{os.a.toDataURL(t.content).then(t=>{this.showQrcode=!0,this.qrcodeImg=t,this.loopOrderStatus()}).catch(t=>{this.$message.error(t)})});break}},closeQrcode(){clearInterval(this.Temp),this.showQrcode=!1},loopOrderStatus(){let t=this.$route.query.orderNo;this.Temp=setInterval(()=>{this.axios.get("/orders/"+t).then(t=>{switch(t.status){case 20:this.closeQrcode(),this.gotoOrderList();break}})},1e3)},gotoOrderList(){this.$router.push("/orderList")}}},fs=hs,_s=(e("64b0"),Object(C["a"])(fs,rs,ns,!1,null,null,null)),gs=_s.exports,Cs=function(){var t=this,s=t._self._c;return s("div",{staticClass:"alipay"},[s("img",{attrs:{src:t.img,alt:"loading"}}),s("div",{staticClass:"form",domProps:{innerHTML:t._s(t.content)}})])},ys=[],bs={name:"alipay",data(){return{content:"",img:e("80a4")}},mounted(){this.gotoAlipay()},methods:{gotoAlipay(){let t=this.$route.query.orderId,s=`玄烨科技${t}号订单`;this.axios.post("/pay",{orderId:t,orderName:s,amount:.01,payType:1}).then(t=>{this.content=t.content,setTimeout(()=>{document.forms[0].submit()},100)})}}},ks=bs,ws=(e("dfbf"),Object(C["a"])(ks,Cs,ys,!1,null,null,null)),xs=ws.exports;u["default"].use(p["a"]);var js=new p["a"]({mode:"hash",routes:[{path:"/",name:"home",component:P,redirect:"/index",children:[{path:"/index",name:"index",component:K},{path:"/product/:id",name:"product",component:ot},{path:"/detail/:id",name:"detail",component:mt},{path:"/orderList",name:"orderList",component:Jt}]},{path:"/login",name:"login",component:yt},{path:"/cart",name:"cart",component:Nt},{path:"/order",name:"order",component:Dt,children:[{path:"confirm",name:"order-confirm",component:is},{path:"pay",name:"order-pay",component:gs},{path:"alipay",name:"alipay",component:xs}]}]}),Ls=e("2f62"),Is={saveUserName(t,s){t.username=s},saveCartCount(t,s){t.cartCount=s}},As={saveUserName(t,s){t.commit("saveUserName",s)},saveCartCount(t,s){t.commit("saveCartCount",s)}};u["default"].use(Ls["a"]);const Os={username:"",cartCount:0};var Ss=new Ls["a"].Store({state:Os,mutations:Is,actions:As}),Ps=e("bc3a"),Ns=e.n(Ps),Ms=e("a7fe"),Ts=e.n(Ms),$s=e("caf9"),qs=e("00e7"),zs=e.n(qs),Ds=(e("e9ff"),function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)}),Vs=[],Es={name:"App",mounted(){this.$cookie.get("userId")&&(this.getUser(),this.getCartCount())},methods:{getUser(){this.axios.get("/user").then((t={})=>{this.$store.dispatch("saveUserName",t.username)})},getCartCount(){this.axios.get("/carts/products/sum").then((t=0)=>{this.$store.dispatch("saveCartCount",t)})}}},Rs=Es,Zs=(e("a07f"),Object(C["a"])(Rs,Ds,Vs,!1,null,null,null)),Bs=Zs.exports;const Hs=!1;Hs&&e("fc6e"),Ns.a.defaults.baseURL="/api",Ns.a.defaults.timeout=8e3,Ns.a.interceptors.response.use(t=>{let s=t.data,e=location.hash;return 0==s.status?s.data:10!=s.status?(d.a.warning(s.msg),Promise.reject(s)):"#/index"!==e?(window.location.href="#/login",Promise.reject(s)):void 0},t=>{let s=t.response;return d.a.error(s.data.message),Promise.reject(t)}),u["default"].use(Ts.a,Ns.a),u["default"].use(zs.a),u["default"].use($s["a"],{loading:e("a6e6")}),u["default"].use(o.a),u["default"].use(n.a),u["default"].use(i.a),u["default"].prototype.$message=d.a,u["default"].config.productionTip=!1,new u["default"]({router:js,store:Ss,render:t=>t(Bs)}).$mount("#app")},"57d1":function(t,s,e){"use strict";e("13b0")},"58c0":function(t,s,e){"use strict";e("5fa8")},"5b40":function(t,s,e){t.exports=e.p+"img/nav-3-3.08c4b5a1.png"},"5baf":function(t,s,e){t.exports=e.p+"img/login-logo.c99fbfa9.png"},"5f20":function(t,s,e){t.exports=e.p+"img/slide-3.9fbd43ce.jpg"},"5fa8":function(t,s,e){},"64b0":function(t,s,e){"use strict";e("ce17")},6517:function(t,s,e){t.exports=e.p+"img/gallery-5.af8c08b5.jpg"},6971:function(t,s,e){"use strict";e("b2c0")},"6e79":function(t,s,e){t.exports=e.p+"img/phone-1.31ea1dcf.jpg"},"77bc":function(t,s,e){t.exports=e.p+"img/item-price.665c8317.jpeg"},"785d":function(t,s,e){},"79a8":function(t,s,e){},"80a4":function(t,s,e){t.exports=e.p+"img/loading-bars.9b094768.svg"},"8e31":function(t,s,e){},"94cb":function(t,s,e){"use strict";e("3823")},"9aa9":function(t,s,e){},a07f:function(t,s,e){"use strict";e("e5d8")},a358:function(t,s,e){},a587:function(t,s,e){t.exports=e.p+"img/item-box-2.e7b3a2dc.png"},a6e6:function(t,s,e){t.exports=e.p+"img/loading-bubbles.d229a5d5.svg"},ae9c:function(t,s,e){t.exports=e.p+"img/slide-5.672c102a.jpg"},b2c0:function(t,s,e){},b305:function(t,s,e){},b6ca:function(t,s,e){},b9e9:function(t,s,e){"use strict";e("b305")},c052:function(t,s,e){t.exports=e.p+"img/gallery-4.62460c31.png"},c0ca:function(t,s,e){},cbfc:function(t,s,e){"use strict";e("b6ca")},ce17:function(t,s,e){},ce25:function(t,s,e){t.exports=e.p+"img/banner-1.143c77d1.png"},cf1f:function(t,s,e){t.exports=e.p+"img/ads-3.82721250.png"},d08a:function(t,s,e){},d436:function(t,s,e){},d4d9:function(t,s,e){t.exports=e.p+"img/phone-3.747342e0.jpg"},d6da:function(t,s,e){t.exports=e.p+"img/nav-3-4.937c0126.jpg"},d834:function(t,s,e){t.exports=e.p+"img/qrcode-mimall.9dd5bb42.png"},dfbf:function(t,s,e){"use strict";e("79a8")},e483:function(t,s,e){t.exports=e.p+"img/ads-2.48d3123e.jpg"},e5d8:function(t,s,e){},e9ff:function(t,s,e){},ea33:function(t,s,e){t.exports=e.p+"img/phone-4.a2589e9b.jpg"},ebd7:function(t,s,e){t.exports=e.p+"img/qrcode-mifans.e2f70c7a.jpg"},f8cf:function(t,s,e){"use strict";e("d436")},fc6e:function(t,s,e){"use strict";e.r(s);var a=e("96eb"),i=e.n(a);i.a.mock("/api/user/login",{status:0,data:{"id|1001-1100":12,username:"@cname",email:"admin@51purse.com",phone:null,role:0,createTime:1479048325e3,updateTime:1479048325e3}})}});
//# sourceMappingURL=app.02717890.js.map